{"mappings":"AAEA,MAAMA,EAAuBC,SAASC,cAAc,0BAE9CC,EAAkB,ICIjB,MACLC,cAEE,OAAOC,MADK,iGAETC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,SAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GAASA,EAAKC,UAAYD,EAAKC,UAAUC,OAAS,I,GDZ9DZ,SAASa,iBAAiB,oBAAoB,MAI9CC,iBACE,IACE,MAAMF,QAAeV,EAAgBC,cACrC,GAAsB,IAAlBS,EAAOG,OACT,QAUN,SAAsBH,GACpB,MAAMI,EAASJ,EACZK,KACCC,GAAS,gCACcA,EAAMC,4CACED,EAAME,OAAO,GAAGC,aAAaH,EAAMI,2CACtCJ,EAAMI,gDACJJ,EAAMK,MAAMC,MAAMC,sDAChBP,EAAMP,UAAUe,OAAO,GAAGJ,gCAI3DK,KAAK,IAER5B,EAAqB6B,mBAAmB,YAAaZ,E,CApBnDa,CADyBjB,EAAOkB,MAAM,EAAG,I,CAEzC,MAAOC,GACPC,QAAQD,MAAM,QAASA,E,EAbzBE,EAAsB,IEmBH,IAAIC,WAAW,aA1BpB,CACZC,WAAY,GACZC,aAAc,GACdC,aAAc,GACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,SAAU,CACRJ,KAAM,gDACNK,YAAa,iEACbC,WACE,mGAGFC,mBACE,gHAGFC,WACE,uGApBR,MCEMC,EAAgB/C,SAASC,cAAc,aACvC+C,EAAQhD,SAASC,cAAc,UAC/BgD,EAAwBjD,SAASC,cAAc,kBAC/CiD,EAAgBlD,SAASC,cAAc,oBACvCkD,EAAuBnD,SAASC,cAAc,0BACvCD,SAASC,cAAc,SAEpCkD,EAAqBtC,iBAAiB,SA4BtC,SAAyBuC,GACrB,GAAoC,OAAjCA,EAAEC,OAAOC,WAAWC,SACnB,OAGJR,EAAcS,MAAMC,cAAgB,OAEpCC,UAAYN,EAAEC,OAAOC,WAAWnC,GAEhC6B,EAAMW,UAAUC,IAAI,YF3CUzC,EE4CZuC,UF3CXtD,MAAM,oDAA2Ce,6CACvDd,MAAKwD,GAAMA,EAAIpD,UE2CfJ,MAAKyD,IACF,MAAMC,EAlCd,SAA2BD,GACvB,MAAO,+BAA+BA,EAAS1C,OAAO,GAAGC,oFAE7ByC,EAAS1C,OAAO,GAAGC,mGAGzCyC,EAASE,SAASC,mFAEnBH,EAASvC,MAAMC,MAAMC,kCACrBqC,EAASvC,MAAMC,MAAM0C,cAAcJ,EAASvC,MAAM4C,mFAElDL,EAASnD,UAAUe,OAAO,GAAG0C,KAAK9C,SAASwC,EAASnD,UAAUe,OAAO,GAAG2C,QAAQ/C,6BAChFwC,EAASnD,UAAUe,OAAO,GAAGJ,0EAE7BwC,EAASxC,+EAETwC,EAASQ,YAAY,GAAGC,QAAQT,EAASQ,YAAY,GAAGE,OAAOV,EAASQ,YAAY,GAAGG,OAAOX,EAASQ,YAAY,GAAGI,wH,CAkBnGC,CAAkBb,GACtCb,EAAsB2B,UAAYb,CAAW,IF/C9C,IAA2B5C,C,IEOlC+B,EAAcrC,iBAAiB,SA+C/B,WACImC,EAAMW,UAAUkB,OAAO,U,IA/C3B9B,EAAclC,iBAAiB,SAkD/B,SAAyBuC,GACrB,GAAGA,EAAEC,SAAWN,EACZ,OAGJC,EAAMW,UAAUkB,OAAO,WACvB9B,EAAcS,MAAMC,cAAgB,M,IAvDxCzD,SAASa,iBAAiB,WA2D1B,SAAuBuC,GACN,WAAVA,EAAE0B,KACD9B,EAAMW,UAAUkB,OAAO,U","sources":["src/partials/js/main.js","src/partials/js/api-server.js","src/partials/js/footer.js","src/partials/js/modal.js"],"sourcesContent":["import { TicketmasterApi } from './api-server';\n\nconst articlesContainerRef = document.querySelector('.js-articles-container');\n\nconst ticketmasterApi = new TicketmasterApi();\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchAndRenderEvents();\n});\n\nasync function fetchAndRenderEvents() {\n  try {\n    const events = await ticketmasterApi.fetchEvents();\n    if (events.length === 0) {\n      return;\n    }\n\n    const firstThreeEvents = events.slice(0, 20);\n    createMarkup(firstThreeEvents);\n  } catch (error) {\n    console.error('Error', error);\n  }\n}\n\nfunction createMarkup(events) {\n  const markup = events\n    .map(\n      event => `\n      <li class=\"card\" id=\"${event.id}\">\n        <img class=\"card-img\" src=\"${event.images[0].url}\" alt=\"${event.name}\">\n        <h2 class=\"card-header\">${event.name}</h2>\n        <p class=\"card-date-text\">${event.dates.start.localDate}</p>\n        <p class=\"card-locate-text\">${event._embedded.venues[0].name}</p>\n      </li>\n    `\n    )\n    .join('');\n\n  articlesContainerRef.insertAdjacentHTML('beforeend', markup);\n}\n\n","const BASE_URL = 'app.ticketmaster.com';\nconst API_KEY = '2V21koh33DKniuaGAcV6NpSm4RteCUeI'; \n\nexport function getDetailsOfEvent(id){\n    return fetch(`https://${BASE_URL}/discovery/v2/events/${id}?apikey=${API_KEY}`)\n    .then(res=> res.json())\n}\n\nexport class TicketmasterApi {\n  fetchEvents() {\n    const url = `https://${BASE_URL}/discovery/v2/events.json?apikey=${API_KEY}`;\n    return fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('error');\n        }\n        return response.json();\n      })\n      .then(data => (data._embedded ? data._embedded.events : [])); \n  }\n}\n","const options = {\n    totalItems: 10,\n    itemsPerPage: 10,\n    visiblePages: 10,\n    page: 1,\n    centerAlign: false,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n          '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n          '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n          '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>'\n    }\n  };\n  \n  const pagination = new Pagination('pagination', options);\n\nmoveButton: type => {\n    let template = '';\n\n    if (type === 'first') {\n      template =\n        '<div class=\"custom-page-btn\">' +\n          '<span class=\"custom-ico\"></span>' +\n        '</div>';\n    }\n\n    return template;\n}\n","import {getDetailsOfEvent} from './api-server'\n\nconst modalBackdrop = document.querySelector('.backdrop')\nconst modal = document.querySelector('.modal')\nconst modalContentContainer = document.querySelector('.modal-content')\nconst closeModalBtn = document.querySelector('.close-modal-btn')\nconst articlesContainerRef = document.querySelector('.js-articles-container');\nconst card = document.querySelector('.card')\n\narticlesContainerRef.addEventListener('click', onArticlesClick)\ncloseModalBtn.addEventListener('click', onCloseModal)\nmodalBackdrop.addEventListener('click', onBackdropClick)\ndocument.addEventListener('keydown', onEscapeModal)\n\n\nfunction createModalMarkup(accident){\n    return `<img class=\"small-img\" src=\"${accident.images[7].url}\" alt=\"\">\n    <div class=\"content-container\">\n    <img class=\"big-img\" src=\"${accident.images[4].url}\" alt=\"\">\n    <div class=\"info-container\">  \n    <h3 class=\"title-info\">INFO</h3>\n    <p >${accident.promoter.description}</p>         \n    <h3 class=\"title-when\">WHEN</h3>         \n    <p>${accident.dates.start.localDate}</p>         \n    <p>${accident.dates.start.localTime} (${accident.dates.timezone})</p>         \n    <h3 class=\"title-where\">WHERE</h3>         \n    <p>${accident._embedded.venues[0].city.name}, ${accident._embedded.venues[0].country.name}</p>         \n    <p>${accident._embedded.venues[0].name}</p>         \n    <h3 class=\"title-who\">WHO</h3>         \n    <p>${accident.name}</p>         \n    <h3 class=\"title-price\">PRICES</h3>         \n    <p>${accident.priceRanges[0].type} ${accident.priceRanges[0].min}-${accident.priceRanges[0].max} ${accident.priceRanges[0].currency}</p>         \n    <button type=\"button\">BUY TICKETS</button>\n    </div></div>            \n           \n    ` }\n\nfunction onArticlesClick(e){\n    if(e.target.parentNode.nodeName !== 'LI'){\n        return\n    }\n\n    modalBackdrop.style.pointerEvents = 'auto';\n    \n    articleId = e.target.parentNode.id\n\n    modal.classList.add('is-show')\n    getDetailsOfEvent(articleId)\n    .then(accident =>{\n        const modalMarkUp = createModalMarkup(accident)\n        modalContentContainer.innerHTML = modalMarkUp\n    })\n\n\n    \n}\n\nfunction onCloseModal(){\n    modal.classList.remove('is-show')\n}\n\nfunction onBackdropClick(e){\n    if(e.target !== modalBackdrop){\n        return\n    }\n\n    modal.classList.remove('is-show')\n    modalBackdrop.style.pointerEvents = 'none';\n}\n\n\nfunction onEscapeModal(e){\n    if(e.key === 'Escape'){\n        modal.classList.remove('is-show')\n    }\n\n\n}\n\n\n\n\n\n\n"],"names":["$3dfd80b159b4ac9d$var$articlesContainerRef","document","querySelector","$3dfd80b159b4ac9d$var$ticketmasterApi","fetchEvents","fetch","then","response","ok","Error","json","data","_embedded","events","addEventListener","async","length","markup","map","event","id","images","url","name","dates","start","localDate","venues","join","insertAdjacentHTML","$3dfd80b159b4ac9d$var$createMarkup","slice","error","console","$3dfd80b159b4ac9d$var$fetchAndRenderEvents","Pagination","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$51a648048b126082$var$modalBackdrop","$51a648048b126082$var$modal","$51a648048b126082$var$modalContentContainer","$51a648048b126082$var$closeModalBtn","$51a648048b126082$var$articlesContainerRef","e","target","parentNode","nodeName","style","pointerEvents","articleId","classList","add","res","accident","modalMarkUp","promoter","description","localTime","timezone","city","country","priceRanges","type","min","max","currency","$51a648048b126082$var$createModalMarkup","innerHTML","remove","key"],"version":3,"file":"index.57817dd8.js.map"}