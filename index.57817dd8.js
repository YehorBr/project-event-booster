const e=document.querySelector(".js-articles-container"),t=new class{fetchEvents(){return fetch("https://app.ticketmaster.com/discovery/v2/events.json?apikey=2V21koh33DKniuaGAcV6NpSm4RteCUeI").then((e=>{if(!e.ok)throw new Error("error");return e.json()})).then((e=>e._embedded?e._embedded.events:[]))}};document.addEventListener("DOMContentLoaded",(()=>{!async function(){try{const n=await t.fetchEvents();if(0===n.length)return;!function(t){const n=t.map((e=>`\n      <li class="card" id="${e.id}">\n        <img class="card-img" src="${e.images[0].url}" alt="${e.name}">\n        <h2 class="card-header">${e.name}</h2>\n        <p class="card-date-text">${e.dates.start.localDate}</p>\n        <p class="card-locate-text">${e._embedded.venues[0].name}</p>\n      </li>\n    `)).join("");e.insertAdjacentHTML("beforeend",n)}(n.slice(0,20))}catch(e){console.error("Error",e)}}()}));new Pagination("pagination",{totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}});const n=document.querySelector(".backdrop"),s=document.querySelector(".modal"),a=document.querySelector(".modal-content"),i=document.querySelector(".close-modal-btn"),c=document.querySelector(".js-articles-container");document.querySelector(".card");c.addEventListener("click",(function(e){if("LI"!==e.target.parentNode.nodeName)return;n.style.pointerEvents="auto",articleId=e.target.parentNode.id,s.classList.add("is-show"),(t=articleId,fetch(`https://app.ticketmaster.com/discovery/v2/events/${t}?apikey=2V21koh33DKniuaGAcV6NpSm4RteCUeI`).then((e=>e.json()))).then((e=>{const t=function(e){return`<img class="small-img" src="${e.images[7].url}" alt="">\n    <div class="content-container">\n    <img class="big-img" src="${e.images[4].url}" alt="">\n    <div class="info-container">  \n    <h3 class="title-info">INFO</h3>\n    <p >${e.promoter.description}</p>         \n    <h3 class="title-when">WHEN</h3>         \n    <p>${e.dates.start.localDate}</p>         \n    <p>${e.dates.start.localTime} (${e.dates.timezone})</p>         \n    <h3 class="title-where">WHERE</h3>         \n    <p>${e._embedded.venues[0].city.name}, ${e._embedded.venues[0].country.name}</p>         \n    <p>${e._embedded.venues[0].name}</p>         \n    <h3 class="title-who">WHO</h3>         \n    <p>${e.name}</p>         \n    <h3 class="title-price">PRICES</h3>         \n    <p>${e.priceRanges[0].type} ${e.priceRanges[0].min}-${e.priceRanges[0].max} ${e.priceRanges[0].currency}</p>         \n    <button type="button">BUY TICKETS</button>\n    </div></div>            \n           \n    `}(e);a.innerHTML=t}));var t})),i.addEventListener("click",(function(){s.classList.remove("is-show")})),n.addEventListener("click",(function(e){if(e.target!==n)return;s.classList.remove("is-show"),n.style.pointerEvents="none"})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&s.classList.remove("is-show")}));
//# sourceMappingURL=index.57817dd8.js.map
